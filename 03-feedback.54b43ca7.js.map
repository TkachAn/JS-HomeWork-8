{"mappings":"oeAAAA,EAAA,SACA,MACMC,EAAYC,SAASC,cAAc,kBACnCC,EAAYF,SAASC,cAAc,wBACnCE,EAAWH,SAASC,cAAc,2BAElCG,EAAM,GAEZL,EAAUM,iBAAiB,UAM3B,SAAmBC,GAClBA,EAAMC,iBAENC,QAAUC,aAAaC,QAhBN,uBAiBjBC,QAAQC,IAAI,KAAKJ,SAChBG,QAAQC,IAAI,KAAKC,KAAKC,MAAMN,UAC7BC,aAAaM,WAnBI,uBAoBjBb,EAAUc,MAAQ,GAClBb,EAASa,MAAQ,GACjBZ,EAAIa,MAAQ,GACZb,EAAIc,QAAU,MAffnB,EAAUM,iBAAiB,SAkB3B,SAAgBC,GACfA,EAAMC,iBAEW,IAAIY,SAASb,EAAMc,eAC3BC,SAAQ,CAACL,EAAOM,KACxBlB,EAAIkB,GAAQN,EAEZP,aAAac,QAjCG,sBAiCgBV,KAAKW,UAAUpB,UAMjD,SAAiBE,GAChB,MAAMmB,EAAMZ,KAAKC,MAAML,aAAaC,QAxCnB,wBAyCjBC,QAAQC,IAAI,OACZV,EAAUc,MAAQS,EAAIR,MACtBd,EAASa,MAAQS,EAAIP,QAjCtBQ","sources":["src/js/03-feedback.js"],"sourcesContent":["import { throttle } from 'lodash';\nconst LOCAL_KEY = \"feedback-form-state\";\nconst fomrState = document.querySelector(\".feedback-form\");\nconst fomrInput = document.querySelector(\".feedback-form input\");\nconst fomrText = document.querySelector(\".feedback-form textarea\"); \n;\nconst mem = {};\n\nfomrState.addEventListener('submit', onFormSub);\nfomrState.addEventListener('input', onText);//throttle(onText,1000);\n// fomrState.addEventListener('storage', setText);\nsetText();\n\n\nfunction onFormSub(event){\n\tevent.preventDefault();\n\t\n\tlocStor = localStorage.getItem(LOCAL_KEY);\n\tconsole.log('do',locStor);\n \tconsole.log('do',JSON.parse(locStor));\n\tlocalStorage.removeItem(LOCAL_KEY);\n\tfomrInput.value = '';\n\tfomrText.value = '';\n\tmem.email = '';\n\tmem.message = '';\n};\n\nfunction onText(event){\n\tevent.preventDefault();\n\t \n\tconst formData = new FormData(event.currentTarget);\n\tformData.forEach((value, name)=>{\n\t\tmem[name] = value;\n\t\t//throttle((mem) => {\n\t\tlocalStorage.setItem(LOCAL_KEY, JSON.stringify(mem));\n\t\t//},1000);\n\t\t//console.log(mem);\n})\n};\n\nfunction setText(event){\n\tconst out = JSON.parse(localStorage.getItem(LOCAL_KEY));\n\tconsole.log('mem');\n\tfomrInput.value = out.email;\n\tfomrText.value = out.message;\n}\n"],"names":["parcelRequire","$945622fd0f572e60$var$fomrState","document","querySelector","$945622fd0f572e60$var$fomrInput","$945622fd0f572e60$var$fomrText","$945622fd0f572e60$var$mem","addEventListener","event","preventDefault","locStor","localStorage","getItem","console","log","JSON","parse","removeItem","value","email","message","FormData","currentTarget","forEach","name","setItem","stringify","out","$945622fd0f572e60$var$setText"],"version":3,"file":"03-feedback.54b43ca7.js.map"}